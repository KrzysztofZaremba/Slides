<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Class 4b: Simple Linear Regression</title>
    <meta charset="utf-8" />
    <meta name="author" content="Business Forecasting" />
    <script src="libs/header-attrs-2.22/header-attrs.js"></script>
    <script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
    <link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding-0.28/datatables.js"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <link href="libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Class 4b: Simple Linear Regression
]
.author[
### Business Forecasting
]

---

&lt;style type="text/css"&gt;
.remark-slide-content {
    font-size: 20px;
}


&lt;/style&gt;







---
## Roadmap


### This class
- Testing assumptions behind residuals
  - Linearity
  - Constant Variance
  - Uncorrelated Residuals
  - Normality
  
---
Intro:

what are the main assumptions


Additional assumption
-normality


How can we test them?
formal ways plus eyeballing

---
1. Assumptions behind residuals


- plotting residuals vs fitted values

---

&lt;img src="C_4_slides_a_files/figure-html/unnamed-chunk-1-1.png" width="100%" /&gt;

- Non linearity:
1. graph fittted line to quadratic equation
2. Resulting residuals

 (vs linear one)
 
 
---


&lt;img src="C_4_slides_a_files/figure-html/unnamed-chunk-2-1.png" width="100%" /&gt;

---

- heteroskedasticity (why we need this assumption)


&lt;img src="C_4_slides_a_files/figure-html/unnamed-chunk-3-1.png" width="100%" /&gt;

---

- heteroskedasticity (why we need this assumption)


&lt;img src="C_4_slides_a_files/figure-html/unnamed-chunk-4-1.png" width="100%" /&gt;
2 plots, homoskedastic vs heteroskedastic


---

&lt;img src="C_4_slides_a_files/figure-html/unnamed-chunk-5-1.png" width="100%" /&gt;
- plitting residuals vs residuals - correlation (dependence)

- one plot with dependence, one without

- not a problem for E(), problem for variance 

---

outlier - interactive one from seeing theory
how to detect it

---
Couple of examples of stuff to test their knowledge


heteroskecasticity - od lewej i prawej higher (albo lower)

linearity - maybe something with logharitm or exp or 1/x
---
&lt;img src="C_4_slides_a_files/figure-html/unnamed-chunk-6-1.png" width="100%" /&gt;
---

&lt;img src="C_4_slides_a_files/figure-html/unnamed-chunk-7-1.png" width="100%" /&gt;

---

&lt;img src="C_4_slides_a_files/figure-html/unnamed-chunk-8-1.png" width="100%" /&gt;

---

&lt;img src="C_4_slides_a_files/figure-html/unnamed-chunk-9-1.png" width="100%" /&gt;

---
We will compare the quantiles of residuals to quantiles of normal!



---

- histogram of residuals
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4cadc5f8c7ab9ff923ac" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4cadc5f8c7ab9ff923ac">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[[-1.681,-0.6909999999999999,4.676,0.212,0.388,5.145,1.383,-3.795,-2.061,-1.337,3.672,1.079,1.202,0.332,-1.668,5.361,1.494,-5.9,2.104,-1.418,-3.203,-0.654,-3.078,-2.187,-1.875,-5.06,2.513,0.46,-3.414,3.761,1.279,-0.885,2.685,2.634,2.465,2.066,1.662,-0.186,-0.918,-1.141,-2.084,-0.624,-3.796,6.507,3.624,-3.369,-1.209,-1.4,2.34,-0.25,0.76,-0.08599999999999999,-0.129,4.106,-0.677,4.549,-4.646,1.754,0.372,0.648,1.139,-1.507,-1,-3.056,-3.215,0.911,1.345,0.159,2.767,6.15,-1.473,-6.928,3.017,-2.128,-2.064,3.077,-0.854,-3.662,0.544,-0.417,0.017,1.156,-1.112,1.933,-0.661,0.995,3.291,1.306,-0.978,3.446,2.981,1.645,0.716,-1.884,4.082,-1.801,6.562,4.598,-0.707,-3.079],[-0.713,-0.351,1.609,-0.022,0.043,1.78,0.406,-1.485,-0.852,-0.587,1.242,0.295,0.34,0.022,-0.708,1.859,0.447,-2.254,0.669,-0.617,-1.269,-0.338,-1.223,-0.898,-0.784,-1.947,0.819,0.06900000000000001,-1.346,1.274,0.368,-0.422,0.881,0.863,0.801,0.655,0.508,-0.167,-0.434,-0.516,-0.86,-0.327,-1.485,2.277,1.224,-1.329,-0.541,-0.61,0.755,-0.19,0.178,-0.13,-0.146,1.4,-0.346,1.562,-1.796,0.541,0.037,0.138,0.317,-0.649,-0.464,-1.215,-1.273,0.234,0.392,-0.041,0.911,2.147,-0.637,-2.629,1.003,-0.876,-0.853,1.025,-0.411,-1.436,0.1,-0.251,-0.093,0.323,-0.505,0.607,-0.34,0.264,1.103,0.378,-0.456,1.159,0.99,0.502,0.162,-0.787,1.392,-0.757,2.297,1.58,-0.357,-1.223],[23,39,95,51,54,96,69,5.5,19,29,89,62,65,52,24,97,70,2,76,27,11,42,12.5,15,21,3,79,55,8,90,66,36,81,80,78,75,72,46,35,31,17,43,5.5,99,88,9,30,28,77,45,59,48,47,92,40,93,4,73,53,57,63,25,33,14,10,60,68,50,82,98,26,1,84,16,18,85,37,7,56,44,49,64,32,74,41,61,86,67,34,87,83,71,58,20,91,22,100,94,38,12.5],[0.228,0.386,0.9409999999999999,0.505,0.535,0.95,0.6830000000000001,0.054,0.188,0.287,0.881,0.614,0.644,0.515,0.238,0.96,0.6929999999999999,0.02,0.752,0.267,0.109,0.416,0.124,0.149,0.208,0.03,0.782,0.545,0.079,0.891,0.653,0.356,0.802,0.792,0.772,0.743,0.713,0.455,0.347,0.307,0.168,0.426,0.054,0.98,0.871,0.089,0.297,0.277,0.762,0.446,0.584,0.475,0.465,0.911,0.396,0.921,0.04,0.723,0.525,0.5639999999999999,0.624,0.248,0.327,0.139,0.099,0.594,0.673,0.495,0.8120000000000001,0.97,0.257,0.01,0.832,0.158,0.178,0.842,0.366,0.06900000000000001,0.554,0.436,0.485,0.634,0.317,0.733,0.406,0.604,0.851,0.663,0.337,0.861,0.822,0.703,0.574,0.198,0.901,0.218,0.99,0.931,0.376,0.124],[-0.745,-0.29,1.563,0.013,0.08799999999999999,1.645,0.476,-1.607,-0.885,-0.5620000000000001,1.18,0.29,0.369,0.038,-0.713,1.751,0.504,-2.054,0.681,-0.622,-1.232,-0.212,-1.155,-1.041,-0.8129999999999999,-1.881,0.779,0.113,-1.412,1.232,0.393,-0.369,0.849,0.8129999999999999,0.745,0.653,0.5620000000000001,-0.113,-0.393,-0.504,-0.962,-0.187,-1.607,2.054,1.131,-1.347,-0.533,-0.592,0.713,-0.136,0.212,-0.063,-0.08799999999999999,1.347,-0.264,1.412,-1.751,0.592,0.063,0.161,0.316,-0.681,-0.448,-1.085,-1.287,0.238,0.448,-0.013,0.885,1.881,-0.653,-2.326,0.962,-1.003,-0.923,1.003,-0.342,-1.483,0.136,-0.161,-0.038,0.342,-0.476,0.622,-0.238,0.264,1.041,0.421,-0.421,1.085,0.923,0.533,0.187,-0.849,1.287,-0.779,2.326,1.483,-0.316,-1.155]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Residuals<\/th>\n      <th>Standardized_Residuals<\/th>\n      <th>Index<\/th>\n      <th>Cumulative_Probability<\/th>\n      <th>Quantile_Normal<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":6,"searching":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '12px'});\n}","columnDefs":[{"className":"dt-right","targets":[0,1,2,3,4]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[6,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":["options.initComplete"],"jsHooks":[]}</script>
---
d
- quantile quantile plot

-lighter tail/ heavier tail

&lt;img src="C_4_slides_a_files/figure-html/unnamed-chunk-11-1.png" width="100%" /&gt;



---

- Jarque Bera's normality test for stochastic error

---


WHAT TO DO?

---

Couple of examples to test their knowledge



    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
