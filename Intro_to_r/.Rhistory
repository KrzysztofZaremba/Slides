y = data_df$y
new_errors$error
new_errors$error
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
new_errors$error
error = new_errors$error
error
error
error
error
error
error
error
error
hist(new_data$y)
hist(new_data$y)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$y)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$y)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$y)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$y)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$error)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$error)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$error)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$error)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$error)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$error)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$error)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$error)
new_errors <- data.frame(x = rnorm(241, mean = 0, sd = 10), y = rnorm(241, mean = 0, sd = 10))
# Calculate the error as y - 0.5x
new_errors$error <- new_errors$y
# Add the error terms to the regression line to create new x-values
new_x <- data_df$x + new_errors$x
new_data <- data.frame(x = new_x, y = data_df$y + new_errors$error, error = new_errors$error)
hist(new_data$error)
rv_uncor$error_terms <- rbind(rv_uncor$error_terms, new_data)
runApp('~/OLS_assumptions')
runApp('~/OLS_assumptions')
runApp('~/OLS_assumptions')
runApp('~/OLS_assumptions')
runApp('~/OLS_assumptions')
runApp('~/OLS_assumptions')
runApp('~/OLS_assumptions')
library(ggplot2)
# Simulate a linear regression model with non-homogeneous errors
set.seed(123)
x <- rnorm(100)  # Predictor variable
y <- 2 * x + rnorm(100, mean = 0, sd = 1 + abs(x))  # Response variable with non-homogeneous errors
# Fit a linear regression model
model <- lm(y ~ x)
# Create a data frame with the residuals and fitted values
residuals_df <- data.frame(
Fitted = predict(model),
Residuals = residuals(model)
)
# Create a scatterplot of residuals against fitted values
ggplot(residuals_df, aes(x = Fitted, y = Residuals)) +
geom_point() +
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
labs(
title = "Scatterplot of Residuals vs. Fitted Values",
x = "Fitted Values",
y = "Residuals"
) +
theme_minimal()
# Load necessary libraries
library(ggplot2)
# Simulate data with increasing variance of residuals
set.seed(123)
x <- seq(1, 100, by = 1)  # Predictor variable
y <- 2 * x + rnorm(100, mean = 0, sd = 0.1 * x)  # Response variable with increasing variance
# Fit a linear regression model
model <- lm(y ~ x)
# Create a data frame with the data
data_df <- data.frame(
x = x,
y = y
)
# Create a scatterplot of the data points and add the regression line
ggplot(data_df, aes(x = x, y = y)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE, formula = y ~ x, color = "blue") +
labs(
title = "Scatterplot of Data with Increasing Residual Variance",
x = "Predictor Variable (x)",
y = "Response Variable (y)"
) +
theme_minimal()
# Load necessary libraries
library(ggplot2)
# Simulate data with increasing variance of residuals
set.seed(123)
x <- seq(1, 100, by = 1)  # Predictor variable
y <- 2 * x + rnorm(100, mean = 0, sd = 0.5 * x)  # Response variable with increasing variance
# Fit a linear regression model
model <- lm(y ~ x)
# Create a data frame with the data
data_df <- data.frame(
x = x,
y = y
)
# Create a scatterplot of the data points and add the regression line
ggplot(data_df, aes(x = x, y = y)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE, formula = y ~ x, color = "blue") +
labs(
title = "Scatterplot of Data with Increasing Residual Variance",
x = "Predictor Variable (x)",
y = "Response Variable (y)"
) +
theme_minimal()
# Load necessary libraries
library(ggplot2)
# Simulate data with increasing variance of residuals
set.seed(123)
x <- seq(1, 100, by = 1)  # Predictor variable
y <- 2 * x + rnorm(200, mean = 0, sd = 0.5 * x)  # Response variable with increasing variance
# Fit a linear regression model
model <- lm(y ~ x)
# Load necessary libraries
library(ggplot2)
# Simulate data with increasing variance of residuals
set.seed(123)
x <- seq(1, 200, by = 1)  # Predictor variable
y <- 2 * x + rnorm(200, mean = 0, sd = 0.5 * x)  # Response variable with increasing variance
# Fit a linear regression model
model <- lm(y ~ x)
# Create a data frame with the data
data_df <- data.frame(
x = x,
y = y
)
# Create a scatterplot of the data points and add the regression line
ggplot(data_df, aes(x = x, y = y)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE, formula = y ~ x, color = "blue") +
labs(
title = "Scatterplot of Data with Increasing Residual Variance",
x = "Predictor Variable (x)",
y = "Response Variable (y)"
) +
theme_minimal()
library(ggplot2)
# Simulate data with increasing variance of residuals
set.seed(123)
x <- seq(1, 200, by = 1)  # Predictor variable
y <- 2 * x + rnorm(200, mean = 0, sd = 0.5 * x)  # Response variable with increasing variance
# Fit a linear regression model
model <- lm(y ~ x)
# Create a data frame with the data
data_df <- data.frame(
x = x,
y = y
)
# Create a data frame with predicted values from the model
predicted_df <- data.frame(
x = x,
y_pred = predict(model)
)
# Create a scatterplot of the data points
# Add the regression line and dashed lines to show deviations
ggplot(data_df, aes(x = x, y = y)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE, formula = y ~ x, color = "blue") +
geom_segment(data = predicted_df, aes(xend = x, yend = y_pred), linetype = "dashed", color = "red") +
labs(
title = "Scatterplot of Data with Increasing Residual Variance",
x = "Predictor Variable (x)",
y = "Response Variable (y)"
) +
theme_minimal()
# Create a scatterplot of the data points
# Add the regression line and dashed lines to show deviations
ggplot(data_df, aes(x = x, y = y)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE, formula = y ~ x, color = "blue") +
geom_segment(data = predicted_df, aes(xend = x, yend = y_pred), linetype = "dashed", color = "gray", alpha=0.5) +
labs(
title = "Scatterplot of Data with Increasing Residual Variance",
x = "Predictor Variable (x)",
y = "Response Variable (y)"
) +
theme_minimal()
# Create a scatterplot of the data points
# Add the regression line and dashed lines to show deviations
ggplot(data_df, aes(x = x, y = y)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE, formula = y ~ x, color = "blue") +
geom_segment(data = predicted_df, aes(xend = x, yend = y_pred), linetype = "dashed", color = "gray", alpha=0.7) +
labs(
title = "Scatterplot of Data with Increasing Residual Variance",
x = "Predictor Variable (x)",
y = "Response Variable (y)"
) +
theme_minimal()
1+1
x <- rnorm(1000)
hist(x)
4-4*5
x=20*5
x*20
x^2 # ^ to the power of
sqrt(x)
x/5
(2+4)/5
sqrt((30+10^2-5)/22)
c(2,5,7,1,40)
V=c(2,5,7,1,40) ##save the vector
V^2
2^v
2^V ##it's important if it's small or big letter!
V*10
sum(V*10)
X=seq(from=1, to=10, by=1)
X=seq(from=1, to=10, by=2)
sum(X^2)
sd(X)
V=seq(from=1, to=100, by=1)
(1/9)^V
sum((1/9)^V)
V=seq(from=1, to=10, by=1)
sum((1/9)^V)
V=seq(from=1, to=5, by=1)
sum((1/9)^V)
V=seq(from=1, to=2, by=1)
sum((1/9)^V)
V=seq(from=1, to=5, by=1)
sum((1/V))
V=seq(from=1, to=20, by=1)
sum((1/V))
V=seq(from=1, to=100, by=1)
sum((1/V))
V=seq(from=1, to=1000, by=1)
sum((1/V))
V=seq(from=1, to=10000, by=1)
sum((1/V))
V=seq(from=1, to=100000, by=1)
sum((1/V))
V=seq(from=1, to=1000000, by=1)
sum((1/V))
V=seq(from=1, to=1000000, by=1)
sum((1/V^2))
V=seq(from=1, to=10000000, by=1)
sum((1/V^2))
string_vector=c("Econometrics","Mexico","New York","Carlos")
string_vector
string_vector
### Matrices
my_matrix=matrix(c(1,2,3,4,5,6,7,8,9), nrow=3, ncol=3)
my_matrix
my_matrix*2
4^4
X[4]
string_vector[3]
sitring_vector=="Mexico"
string_vector=="Mexico"
string_vector="Mexico"
string_vector=c("Econometrics","Mexico","New York","Carlos") #character vector
V>3
X>3
X[X>3]
X>3
2:4
elements_2_4=string_vector[2:4]
elements_2_4
elements_2_4=string_vector[2:4]
elements_2_4
print(elements_2_4)
my_matrix
my_matrix[1,2] #first row, and 2nd column
my_matrix[2,] #show me entire second row
my_matrix[,3] #show me entire third column
M2=matrix(seq(from=1, to=1600,by=1), nrow=40, ncol=40)
M2^2
M2^2+200
(M2^2+200)/(-5)
M3=(M2^2+200)/(-5)
M3[25,3]
?rnorm
my_new_vector=rnorm(1000, mean=10, sd=5)
my_new_vector
hist(my_new_vector) #plot histogram of thesee values
my_new_vector=rnorm(n=1000, mean=10, sd=5)
#how many bins I want in my histogram
hist(my_new_vector, breaks=20))
#how many bins I want in my histogram
hist(my_new_vector, breaks=20)
#how many bins I want in my histogram
hist(my_new_vector, breaks=10)
#how many bins I want in my histogram
hist(my_new_vector, breaks=100)
my_new_vector=rnorm(n=10000, mean=10, sd=5)
#how many bins I want in my histogram
hist(my_new_vector, breaks=100)
mean(my_new_vector)
my_new_vector=rnorm(n=10000, mean=10, sd=5)
#how many bins I want in my histogram
hist(my_new_vector, breaks=100)
mean(my_new_vector)
sd(my_new_vector)
my_new_vector=rnorm(n=10000, mean=10, sd=5)
sd(my_new_vector)
load("C:/Users/kzysi/Dropbox/Itam_teaching/Markdowns/Intro_to_r/listings.Rda")
View(listings)
### Data
install.packages("tidyverse")
listings$neighbourhood_cleansed ## select this column
table(listings$neighbourhood_cleansed)
x=table(listings$neighbourhood_cleansed)
x
listings%>%
filter(neighbourhood_cleansed=="Condesa")
library(tidyverse) ##a library with functions for data analysis and visualization
listings%>%
filter(neighbourhood_cleansed=="Condesa")
listings%>%
filter(neighbourhood_cleansed=="Azcapotzalco")
P=listings%>%
filter(neighbourhood_cleansed=="Azcapotzalco")
listings%>%
filter(neighbourhood_cleansed=="Azcapotzalco")%>%
mutate(N=n())
listings%>%
filter(neighbourhood_cleansed=="Azcapotzalco")%>%
summarize(n())
library(tidyverse)
#####
listings$review_scores_rating
#####
listings$review_scores_rating=as.numeric(listings$review_scores_rating)
listings$review_scores_rating
mean(listings$review_scores_rating, na.rm=TRUE)
hist(listings$review_scores_rating, breaks=20))
hist(listings$review_scores_rating, breaks=20)
View(listings)
t.test(listings$review_scores_rating, conf.level=0.95)
clean()
load("C:/Users/kzysi/Dropbox/Itam_teaching/Markdowns/Intro_to_r/listings.Rda")
View(listings)
listings$review_scores_rating
listings$review_scores_rating <- as.numeric(listings$review_scores_rating) # convert to numeric
listings$review_scores_rating
### Generate and Plot a standard normal distribution
set.seed(1234)
x <- rnorm(1000, mean = 0, sd = 1)
hist(x, breaks = 30, col = "lightblue", main = "Standard Normal Distribution", xlab = "Value", ylab = "Frequency")
?mean
mean(listings$review_scores_rating, na.rm = TRUE) # mean of the review scores
sum(listings$review_scores_rating, na.rm = TRUE)
listings$review_scores_rating<2
listings$review_scores_rating
### in a dataset I have both rows and columns, before comma it is rows, after comma it is columns
listings[4,5] #it gives row number 4 and column 5
low_review=listings[listings$review_scores_rating<2,] ##inside the bracket I have a logical vector
View(listings)
listings[4,5]
listings[4,]
listings[,5] # it gives me all rows for column 5
View(low_review)
is.na(listings$review_scores_rating)
#### I want to find all observations with NAs, and get rid of them
listings=listings[!is.na(listings$review_scores_rating),] # it gives me all rows where review_scores_rating is NA
is.na(listings$review_scores_rating)
listings$neighbourhood_cleansed
table(listings$neighbourhood_cleansed)
###subset data, so only data from this neighborhood shows up
listings$neighbourhood_cleansed=="Miguel Hidalgo" ## if I just write on equal sign, it's gonna redefine variable
table(listings$neighbourhood_cleansed)
Miguel_hidalgo_listings=listings[listings$neighbourhood_cleansed=="Miguel Hidalgo",]
###find mean review score in your neighborhood
mean(Miguel_hidalgo_listings$review_scores_rating, na.rm = TRUE)
Miguel_hidalgo_listings=listings[listings$neighbourhood_cleansed=="Iztapalapa",]
View(Miguel_hidalgo_listings)
xbar=mean(Miguel_hidalgo_listings$review_scores_rating, na.rm = TRUE)
Miguel_hidalgo_listings=listings[listings$neighbourhood_cleansed=="Miguel Hidalgo",]
standard_devation=sd(Miguel_hidalgo_listings$review_scores_rating, na.rm = TRUE)
xbar=mean(Miguel_hidalgo_listings$review_scores_rating, na.rm = TRUE)
xbar
standard_devation
xbar
standard_devation
qnorm(0.025)
qnorm(0.975)
###95 % confidence interval
## I am looking for 97.5 quantile of a normal
critical_value = qnorm(0.975)
n=nrow(Miguel_hidalgo_listings)
Lower_band=xbar-critical_value*standard_devation/sqrt(n)
Lower_band
Upper_band=xbar+critical_value*standard_devation/sqrt(n)
Upper_band
t.test(Miguel_hidalgo_listings$review_scores_rating, conf.level = 0.95)
t.test(Miguel_hidalgo_listings$review_scores_rating, conf.level = 0.99)
t.test(Miguel_hidalgo_listings$review_scores_rating, conf.level = 0.90)
#### plot histogram
hist(Miguel_hidalgo_listings$review_scores_rating, breaks=5)
#### plot histogram
hist(Miguel_hidalgo_listings$review_scores_rating, breaks=10)
#### plot histogram
hist(Miguel_hidalgo_listings$review_scores_rating, breaks=100)
mean(Miguel_hidalgo_listings$review_scores_rating, na.rm = TRUE)
median(Miguel_hidalgo_listings$review_scores_rating, na.rm = TRUE)
######
V=c(4,5,2,7,8)
mean(V)
sum(V)
V^2
2^V
X=seq(from=1, to=100, by=1)
X
X=seq(from=1, to=100, by=4)
X
X
5/4
1/V
X=seq(from=1, to=100, by=1)
1/X
sum(1/X)
X=seq(from=1, to=10000, by=1)
1/X
sum(1/X)
X=seq(from=1, to=100000, by=1)
1/X
sum(1/X)
X=seq(from=1, to=100, by=1)
1/X
sum(1/X^2)
X=seq(from=1, to=5, by=1)
sum(1/X^2)
1/X^2
X=seq(from=1, to=10, by=1)
1/X
sum(1/X^2)
X=seq(from=1, to=100, by=1)
sum(1/X^2)
X=seq(from=1, to=1000, by=1)
sum(1/X^2)
X=seq(from=1, to=10000, by=1)
sum(1/X^2)
