<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Class 2c: Review of concepts in Probability and Statistics</title>
    <meta charset="utf-8" />
    <meta name="author" content="Business Forecasting" />
    <script src="libs/header-attrs-2.22/header-attrs.js"></script>
    <script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
    <link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding-0.28/datatables.js"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <link href="libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Class 2c: Review of concepts in Probability and Statistics
]
.author[
### Business Forecasting
]

---

&lt;style type="text/css"&gt;
.remark-slide-content {
    font-size: 20px;
}

&lt;/style&gt;








---

layout: false
class: inverse, middle


# Summarizing Data 
## Summary Statistics


---
# Measures of Dispersion

- How much variation there is in the data?

## Range

- **Range** the difference between minimum and maximum value in the data 


`$$R=x_{max}-x_{min}$$`


--

- What is the difference between the oldest and the youngest person with diabetes? 
- **R**=77=97-20


---
- Very sensitive to outliers


&lt;img src="C_2_slides_c_files/figure-html/11-1.png" width="100%" /&gt;

---
## Interquartile Range
- **Interquartile range** is the difference between the first and the third quartile of the data:
`$$IQR=q_3-q_1$$`
- What is the IQR of age in people with diabetes? 
- **IQR**=19=68-49

--
- 50% of the sample is between `\(q_3\)` and `\(q_1\)`

--
&lt;img src="C_2_slides_c_files/figure-html/2-1.png" width="100%" /&gt;




---
- Is it more or less sensitive to outliers than range?

&lt;img src="C_2_slides_c_files/figure-html/1-1.png" width="100%" /&gt;

---
### Interquartile Range 

---


### Example with data

- What is the IQR?

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2a8e9539872343d5916c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2a8e9539872343d5916c">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["TikTok Video 1","TikTok Video 2","TikTok Video 3","TikTok Video 4","TikTok Video 5","TikTok Video 6","TikTok Video 7","TikTok Video 8","TikTok Video 9","TikTok Video 10","TikTok Video 11","TikTok Video 12","TikTok Video 13","TikTok Video 14","TikTok Video 15","TikTok Video 16","TikTok Video 17","TikTok Video 18","TikTok Video 19","TikTok Video 20"],[30,17,22,24,23,19,32,20,37,20,30,40,13,18,19,24,18,9,10,30]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>VideoTitle<\/th>\n      <th>Views<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":4,"searching":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '12px'});\n}","columnDefs":[{"className":"dt-right","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[4,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":["options.initComplete"],"jsHooks":[]}</script>



---

### Example with data

Here is a (smaller) data on distribution of how many views have various tik-tok videos. 
- Suppose that all views triples and 1000 additional people viewed them as well
`$$y_i=3x_i+1000$$`
- What is new IQR?
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-5bc403e1f7b162d7d6b0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5bc403e1f7b162d7d6b0">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["TikTok Video 1","TikTok Video 2","TikTok Video 3","TikTok Video 4","TikTok Video 5","TikTok Video 6","TikTok Video 7","TikTok Video 8","TikTok Video 9","TikTok Video 10","TikTok Video 11","TikTok Video 12","TikTok Video 13","TikTok Video 14","TikTok Video 15","TikTok Video 16","TikTok Video 17","TikTok Video 18","TikTok Video 19","TikTok Video 20"],[30,17,22,24,23,19,32,20,37,20,30,40,13,18,19,24,18,9,10,30],[1090,1051,1066,1072,1069,1057,1096,1060,1111,1060,1090,1120,1039,1054,1057,1072,1054,1027,1030,1090]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>VideoTitle<\/th>\n      <th>OldViews<\/th>\n      <th>NewViews<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":4,"searching":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '12px'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[4,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":["options.initComplete"],"jsHooks":[]}</script>

---
### IQR


- Order of observations was not affected, so same observations correspond to the first and the third quartile

`$$q^{New}_{1}=3q^{Old}_1+1000$$`
`$$q^{New}_{3}=3q^{Old}_3+1000$$`

--
- And more generally, for `$$y_i=bx_i+a$$`

`$$v^y_p=bv^{x}_p+a$$`


--
- So what does it mean for IQR?

`$$IQR^{New}=q^{New}_{3}-q^{New}_{1}=3q^{Old}_3-3q^{Old}_1=3*IQR^{Old}$$`

---


&lt;img src="C_2_slides_c_files/figure-html/5aa-1.png" width="100%" /&gt;


---

### Variance &amp; Standard Deviation

**Variance** measures how much observations deviate from the mean:

- **Population variance**: 
`$$\sigma^2=E[(X-\mu)^2]=\frac{1}{N} \sum^N_{i=1}(x_i-\mu)^2$$`

--
- But this does not have the right units...

--
- **Population standard deviation** deviation:

`$$\sigma=\sqrt{\frac{1}{N} \sum^N_{i=1}(x_i-\mu)^2}$$`
--
- Why do we first take squares and then take square root? 

--
- Can't we just do `\(\frac{1}{N}\sum^N_{i=1}(x_i-\mu)\)`?

--
- NO! Because `\(\sum^N_{i=1}(x_i-\mu)=0\)`


---

&lt;img src="C_2_slides_c_files/figure-html/3-1.png" width="100%" /&gt;

---

&lt;img src="C_2_slides_c_files/figure-html/3b-1.png" width="100%" /&gt;

---

### Sample equivalents

- **Sample variance**: 
`$$s^2=\frac{1}{n-1} \sum^n_{i=1}(x_i-\bar{x})^2$$`
--
- **Sample standard deviation** deviation:

`$$s=\sqrt{\frac{1}{n-1} \sum^n_{i=1}(x_i-\bar{x})^2}$$`
--
- Why we divide by `\(n-1\)` rather than `\(n\)`?

--


---
- **Intuition** - observed values usually fall closer to the sample mean than to the population mean

&lt;img src="C_2_slides_c_files/figure-html/4-1.png" width="100%" /&gt;

---
### Sample equivalents

- So the deviations from the sample mean underestimate the population standard deviation

--

- So we divide by a smaller number to correct for it

--

- In big sample `\(\frac{1}{n}\)` and `\(\frac{1}{n-1}\)` are similar, so correction doesn't matter as much



---
- **Intuition** - in big samples, our estimate of the population mean is already good, no need to correct

&lt;img src="C_2_slides_c_files/figure-html/4b-1.png" width="100%" /&gt;

---


### Sample equivalents

Are they robust to outliers?

- Very sensitive because squaring deviation amplifies large deviation more than small deviations. 


&lt;img src="C_2_slides_c_files/figure-html/5-1.png" width="100%" /&gt;

---

### Variance in the aggregated data

Can we calculate standard variation in the population from aggregate data?

.pull-left[
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f4997105858173027594" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f4997105858173027594">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["Polanco","Condesa","Roma","Tepito","Coyoacán","Santa Fe","Zona Rosa","Iztapalapa","Tacubaya","San Miguel","Chalco","Tláhuac"],[60000,45000,35000,15000,30000,25000,40000,12000,18000,9000,10000,12000],[10000,20000,30000,5000,25000,18000,12000,40000,15000,8000,60000,45000]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Neighborhood<\/th>\n      <th>Average_Income<\/th>\n      <th>Population<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":6,"searching":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '12px'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[6,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

.pull-right[

$$\frac{\sum_{z}{N_z} (\bar{x}_z - \mu)^2}{\sum_z N_z} \neq \sigma^2 $$ 
- **Intuition:** we are missing the variation within the neighborhoods
]

---

### Variance in the aggregated data

- We can't do it if there is variation within groups
- But we can if there is no variation within groups
  - *Example*: frequency distribution of discrete variables

.pull-left[
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-01f665b989270420b066" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-01f665b989270420b066">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97"],[4,2,4,3,5,7,6,6,5,12,16,14,16,15,33,33,31,32,48,61,37,47,82,73,65,75,67,85,64,114,98,87,115,99,105,103,124,100,122,119,133,99,114,115,107,129,112,112,116,96,90,74,82,91,69,73,59,45,51,46,45,17,41,23,25,18,13,13,10,5,4,1,4,1,2,1,1,1],[0.001,0,0.001,0.001,0.001,0.002,0.001,0.001,0.001,0.003,0.004,0.003,0.004,0.004,0.008,0.008,0.007,0.008,0.012,0.015,0.008999999999999999,0.011,0.02,0.017,0.016,0.018,0.016,0.02,0.015,0.027,0.023,0.021,0.028,0.024,0.025,0.025,0.03,0.024,0.029,0.029,0.032,0.024,0.027,0.028,0.026,0.031,0.027,0.027,0.028,0.023,0.022,0.018,0.02,0.022,0.017,0.017,0.014,0.011,0.012,0.011,0.011,0.004,0.01,0.006,0.006,0.004,0.003,0.003,0.002,0.001,0.001,0,0.001,0,0,0,0,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Age<\/th>\n      <th>n_i<\/th>\n      <th>p_i<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":6,"searching":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '12px'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[6,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

.pull-right[

- For simplicity, assume we have data on all population: 

`\begin{align}
\tiny
   \sigma^2 &amp;=\frac{1}{N} \sum^N_{i=1}(x_i-\mu)^2 \\
    &amp;= \frac{(20-\mu)^2+(20-\mu)^2+(20-\mu)^2+...}{N}  \\
    &amp;=  \frac{4\cdot(20-\mu)^2+2 \cdot(21-\mu)^2+...}{N} \\
    &amp;= \frac{\sum_{a}{N_a} (\bar{x}_a - \mu)^2}{\sum_a N_a}
\end{align}`

- Where `\(N_a\)` is number of people with age `\(a\)`



]


---

### Coefficient of Variation

**Coefficient of Variation** divides the standard deviation by the mean. 

`$$C.V.=\frac{\sigma}{|\mu|}$$`

And sample eqiuvalent
`$$c.v.=\frac{s}{|\bar{x}|}$$`
--

- Why?
  - It expresses standard deviation as proportion of the mean
      - Small value means variation is low compared to the mean
  - It is unit free
  - You can compare it across variables with different units/magnitudes

---

### Coefficient of Variation

**Example** - variation of stocks in different currencies 

.pull-left[
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e36ce9489c4bd308ea22" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e36ce9489c4bd308ea22">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["2023-07-01","2023-07-02","2023-07-03","2023-07-04","2023-07-05","2023-07-06","2023-07-07","2023-07-08","2023-07-09","2023-07-10","2023-07-11","2023-07-12","2023-07-13","2023-07-14","2023-07-15","2023-07-16","2023-07-17","2023-07-18","2023-07-19","2023-07-20"],[91.59,96.55,123.38,101.06,101.94,125.73,106.91,81.02,89.7,93.31999999999999,118.36,105.4,106.01,101.66,91.66,126.8,107.47,70.5,110.52,92.91],[1.01,1.16,1.02,1.07,1.09,0.9,1.35,1.23,1,1.43,1.28,1.15,1.36,1.36,1.35,1.32,1.3,1.19,1.14,1.13]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Date<\/th>\n      <th>MXN_Stock<\/th>\n      <th>USD_Stock<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":6,"searching":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '12px'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[6,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

.pull-right[
- **Standard deviation**:
  - USD: 0.149
  - MXN: 14.59


- **Coefficient of variation**:
  - USD: 0.12
  - MXN: 0.14
]
---

### Coefficient of Variation

So more generally, if `\(y_i=bx_i\)`, then

`$$C.V._y=\frac{\sigma_y}{|\mu_y|}=\frac{|b|\sigma_x}{|b\mu_x|}=C.V._x$$`
What if `\(y_i=bx_i+a\)`?

--
Then 

`$$C.V._y=\frac{\sigma_y}{|\mu_y|}=\frac{|b|\sigma_x}{|b\mu_x+a|} \neq C.V._x$$`
---

### Box and Whiskers plot 

- Helps to see the distribution of the data
- Helps to see to see the outliers
  - Outliers are useful to see anomalies and potential errors in data colection

&lt;img src="C_2_slides_c_files/figure-html/7a-1.png" width="100%" /&gt;




---
### Box and Whiskers plot 

**Dataset comparisons**
- They summarize data very well
&lt;img src="C_2_slides_c_files/figure-html/8a-1.png" width="100%" /&gt;

---

### Box and Whiskers plot 

**Dataset comparisons**
- They summarize data very well
&lt;img src="C_2_slides_c_files/figure-html/8b-1.png" width="100%" /&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"countIncremdata:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAWElEQVR42mNgGPTAxsZmJsVqQApgmGw1yApwKcQiT7phRBuCzzCSDSHGMKINIeDNmWQlA2IigKJwIssQkHdINgxfmBBtGDEBS3KCxBc7pMQgMYE5c/AXPwAwSX4lV3pTWwAAAABJRU5ErkJggg==entalSlides": true,
"fig.retina": 2
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
